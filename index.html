<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ì…€í”„ ì²´í¬ë¦¬ìŠ¤íŠ¸</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white text-gray-800 font-sans max-w-2xl mx-auto p-6">
  <h1 class="text-2xl font-bold text-center text-gray-700 mb-8">ğŸ“˜ ë‚˜ì˜ ì…€í”„ ìƒíƒœ ì ê²€</h1>

  <div id="form">
    <!-- Section Component -->
    <section class="mb-10">
      <h2 class="text-xl font-semibold text-blue-900 mb-4">1. ì´ë²ˆ ì£¼ ê°ì • ì²´í¬</h2>
      <div class="space-y-2">
        <label class="flex items-center"><input type="checkbox" class="mr-2">ë‘ë ¤ì›€</label>
        <label class="flex items-center"><input type="checkbox" class="mr-2">ë¶„ë…¸</label>
        <label class="flex items-center"><input type="checkbox" class="mr-2">ìˆ˜ì¹˜ì‹¬</label>
        <label class="flex items-center"><input type="checkbox" class="mr-2">í˜¼ë€</label>
        <label class="flex items-center"><input type="checkbox" class="mr-2">ì§€ì¹¨ / í”¼ë¡œ</label>
        <label class="flex items-center"><input type="checkbox" class="mr-2">ë¬´ê°ê° / ê³µí—ˆ</label>
        <label class="flex items-center"><input type="checkbox" class="mr-2">ë¬´ê¸°ë ¥</label>
        <label class="flex items-center"><input type="checkbox" class="mr-2">ìš°ìš¸</label>
        <label class="flex items-center"><input type="checkbox" class="mr-2">í‰ì•ˆ (ìƒ¬ë¡¬)</label>
        <label class="flex items-center"><input type="checkbox" class="mr-2">ê¸°ì¨</label>
        <label class="flex items-center"><input type="checkbox" class="mr-2">ê¸°ëŒ€ê°</label>
        <input type="text" placeholder="ê¸°íƒ€ ê°ì •..." class="w-full mt-2 p-2 border border-gray-300 rounded-md">
      </div>
    </section>

    <!-- ë‹¤ë¥¸ ì„¹ì…˜ë“¤ë„ ë™ì¼í•˜ê²Œ Tailwind ìŠ¤íƒ€ì¼ë¡œ ë¦¬íŒ©í† ë§ í•„ìš” -->

    <div class="mt-6">
      <button type="button" onclick="showResult()" class="bg-blue-800 text-white py-2 px-4 rounded hover:bg-blue-900">ì œì¶œí•˜ê³  ê²°ê³¼ ë³´ê¸°</button>
    </div>
  </div>

  <div id="result" class="hidden mt-10">
    <h2 class="text-xl font-bold mb-4">ğŸ“Š ê²°ê³¼ ìš”ì•½</h2>
    <ul class="list-disc pl-6 text-gray-700">
      <li>ë§ì´ ì²´í¬ëœ ê°ì • ë°˜ì‘: <strong id="reactionResult"></strong></li>
      <li>ê°€ì¥ ì˜í–¥ì„ ë¼ì¹œ ì˜ì íë¦„: <strong id="flowResult"></strong></li>
    </ul>
    <p class="text-sm text-gray-500 mt-4">ìƒˆë¡œê³ ì¹¨í•˜ë©´ ë‹¤ì‹œ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
  </div>

  <script>
    function showResult() {
      const rCount = [...document.querySelectorAll('#reaction input[type=checkbox]')].filter(c => c.checked).length;
      const recCount = [...document.querySelectorAll('#recovery input[type=checkbox]')].filter(c => c.checked).length;

      const ranges = {
        'ë¯¸í˜¹':[108,112], 'ìŒë€':[150,154],
        'ê°€ë‚œ':[120,124], 'ë¶„ì—´':[126,130],
        'ê³ ë¦½':[132,136], 'ì™œê³¡':[138,142],
        'ì¢…êµ':[144,148]
      };
      const flowCounts = {};
      for (let [key,[s,e]] of Object.entries(ranges)) {
        let cnt = 0;
        for (let i=s; i<=e; i++) {
          const el = document.getElementById('q'+i);
          if (el && el.checked) cnt++;
        }
        flowCounts[key] = cnt;
      }
      const [topFlow, topNum] = Object.entries(flowCounts).sort((a,b)=>b[1]-a[1])[0] || [null,0];

      const rText = rCount>=5 ? 'ê°•í•˜ê²Œ ì´ëŒë¦¼' : rCount>=3 ? 'ì£¼ë„ ë°˜ì‘' : 'ì•ˆì •';
      const flowText = topNum>0 ? `${topFlow} íë¦„ì— ì˜í–¥ (${topNum}ê°œ)` : 'íŠ¹ë³„í•œ íë¦„ ì—†ìŒ';

      document.getElementById('reactionResult').innerText = rText;
      document.getElementById('flowResult').innerText = flowText;

      document.getElementById('form').classList.add('hidden');
      document.getElementById('result').classList.remove('hidden');
    }
  </script>
</body>
</html>
