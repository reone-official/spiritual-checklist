<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>셀프 체크리스트</title>
  <style>
    body {font-family:'Apple SD Gothic Neo',sans-serif;background:#fff;color:#333;margin:0;padding:2rem;max-width:600px;margin:auto;}
    h1 {text-align:center;color:#444;font-size:1.8rem;margin-bottom:2rem;}
    .section {margin-bottom:2.5rem;}
    h2,h3 {color:#2c3e50;}
    h2 {font-size:1.3rem;margin-bottom:1rem;}
    h3 {font-size:1.2rem;margin-top:1.5rem;}
    label {display:block;margin-bottom:0.6rem;cursor:pointer;}
    textarea,input[type="text"] {width:100%;margin-top:0.5rem;padding:0.5rem;border:1px solid #ccc;border-radius:6px;}
    .note {font-size:0.9rem;color:#777;margin-top:0.5rem;}
    button {padding:0.7rem 1.5rem;font-size:1rem;border:none;border-radius:5px;background:#2c3e50;color:#fff;cursor:pointer;}
    #result {display:none;}
    ol {padding-left:1.2rem;}
  </style>
</head>
<body>
  <h1>📘 나의 셀프 상태 점검</h1>
  <div id="form">
    <div class="section" id="emotion">
      <h2>1. 이번 주 감정 체크</h2>
      <label><input type="checkbox" /> 두려움</label>
      <label><input type="checkbox" /> 분노</label>
      <label><input type="checkbox" /> 수치심</label>
      <label><input type="checkbox" /> 혼란</label>
      <label><input type="checkbox" /> 지침 / 피로</label>
      <label><input type="checkbox" /> 무감각 / 공허</label>
      <label><input type="checkbox" /> 무기력</label>
      <label><input type="checkbox" /> 우울</label>
      <label><input type="checkbox" /> 평안 (샬롬)</label>
      <label><input type="checkbox" /> 기쁨</label>
      <label><input type="checkbox" /> 기대감</label>
      <label><input type="text" placeholder="기타 감정..." /></label>
    </div>
    <div class="section" id="origin">
      <h2>2. 감정의 근원과 시선 방향</h2>
      <label><input type="checkbox" /> 사람의 반응</label>
      <label><input type="checkbox" /> 내 상태나 능력</label>
      <label><input type="checkbox" /> 과거의 경험</label>
      <label><input type="checkbox" /> 미래에 대한 불안 / 기대</label>
      <label><input type="checkbox" /> 상황 자체</label>
      <label><input type="checkbox" /> 내 감정 자체</label>
      <label><input type="checkbox" /> 하나님의 성품 / 말씀</label>
      <label><input type="checkbox" /> 십자가</label>
      <label><input type="checkbox" /> 공동체</label>
      <label><input type="checkbox" /> 사명 / 비전</label>
      <label><input type="checkbox" /> 정체 모름 (흐릿함)</label>
    </div>
    <div class="section" id="thoughts">
      <h2>3. 반복된 생각/말/행동</h2>
      <textarea placeholder="이번 주 자주 떠오른 생각, 말, 행동을 간단히 기록해보세요."></textarea>
    </div>
    <div class="section" id="reaction">
      <h2>4. 내 반응</h2>
      <label><input type="checkbox" /> 예배나 기도를 피하거나 미뤘다</label>
      <label><input type="checkbox" /> 말씀 묵상이나 적용을 멈췄다</label>
      <label><input type="checkbox" /> 감정을 억눌렀거나 폭발시켰다</label>
      <label><input type="checkbox" /> 관계를 피하거나 단절시켰다</label>
      <label><input type="checkbox" /> 자극적이거나 중독적인 행동을 반복했다</label>
      <label><input type="checkbox" /> 비교, 자책, 부정적인 생각이 많았다</label>
      <label><input type="checkbox" /> 겉으론 괜찮지만 내면은 지쳐 있었다</label>
      <label><input type="checkbox" /> 타인을 판단하거나 원망했다</label>
      <label><input type="checkbox" /> 일부러 바쁘게 움직이며 감정을 회피했다</label>
      <div class="note">※ 3개 이상 체크 시 주의가 필요합니다.</div>
    </div>
    <div class="section" id="flow">
      <h2>5. 영적 흐름 진단 (자가 체크)</h2>
      <!-- 8개 흐름, 각 5문항 -->
      <!-- 미혹 -->
      <label><input type="checkbox" id="q1" /> 말씀보다 내 느낌이나 개인 계시에 의존해 결정한 적 있나요?</label>
      <label><input type="checkbox" id="q2" /> 리더·멘토 조언 전 감정적으로 선을 긋거나 무시한 적 있나요?</label>
      <label><input type="checkbox" id="q3" /> 공동체보다 '영적 느낌'을 더 신뢰해 행동한 적 있나요?</label>
      <label><input type="checkbox" id="q4" /> 분위기가 좋지 않으면 말씀을 피하거나 적용을 미룬 적 있나요?</label>
      <label><input type="checkbox" id="q5" /> 피드백을 무시하고 내 방식대로 결정한 경험이 있나요?</label>
      <!-- 음란 -->
      <label><input type="checkbox" id="q6" /> 은혜가 느껴지지 않는다는 이유로 예배/기도를 건너뛴 적 있나요?</label>
      <label><input type="checkbox" id="q7" /> 자극이 없으면 금방 지루해하고 집중을 잃나요?</label>
      <label><input type="checkbox" id="q8" /> 음란 콘텐츠나 행동에 반복적으로 빠진 적 있나요?</label>
      <label><input type="checkbox" id="q9" /> 자극적인 신앙 활동만 선호하고 깊은 묵상은 피하나요?</label>
      <label><input type="checkbox" id="q10" /> 감정 기복에 따라 예배 태도가 크게 바뀌나요?</label>
      <!-- 가난 -->
      <label><input type="checkbox" id="q11" /> 다른 사람의 축복에 질투나 불편함을 느낀 적 있나요?</label>
      <label><input type="checkbox" id="q12" /> 항상 부족하다 느껴 헌신이나 나눔이 부담스럽나요?</label>
      <label><input type="checkbox" id="q13" /> 필요한 자원이 없어질까 두려워 나눔을 미룬 적 있나요?</label>
      <label><input type="checkbox" id="q14" /> 도움 요청이 자존심 상해 미룬 적 있나요?</label>
      <label><input type="checkbox" id="q15" /> 하나님보다 물질적 자원에 의존하나요?</label>
      <!-- 분열 -->
      <label><input type="checkbox" id="q16" /> 리더 의견보다 내 생각이 맞다며 고집한 적 있나요?</label>
      <label><input type="checkbox" id="q17" /> 공동체 내 불편한 사람을 피한 적 있나요?</label>
      <label><input type="checkbox" id="q18" /> 자주 비판적 언행을 했나요?</label>
      <label><input type="checkbox" id="q19" /> 권위자의 조언을 의심하거나 신뢰 못 했나요?</label>
      <label><input type="checkbox" id="q20" /> '나만의 방식'으로 따로 행동한 적 있나요?</label>
      <!-- 분리(고립) -->
      <label><input type="checkbox" id="q21" /> 사람들과 함께 있으면 피곤해 모임을 피했나요?</label>
      <label><input type="checkbox" id="q22" /> 지쳐 예배/기도를 하지 않은 날이 있나요?</label>
      <label><input type="checkbox" id="q23" /> '아무도 내 상황 이해 못 해' 말문 닫은 적 있나요?</label>
      <label><input type="checkbox" id="q24" /> 외롭고 단절된 느낌이 지속되나요?</label>
      <label><input type="checkbox" id="q25" /> 방에만 있고 싶은 날이 많아졌나요?</label>
      <!-- 분리(왜곡) -->
      <label><input type="checkbox" id="q26" /> 확인 없이 감정으로 의도를 판단한 적 있나요?</label>
      <label><input type="checkbox" id="q27" /> 말/행동에 나쁜 의도를 먼저 생각한 적 있나요?</label>
      <label><input type="checkbox" id="q28" /> 과거 사건을 왜곡/확대해석한 적 있나요?</label>
      <label><input type="checkbox" id="q29" /> 대화 없이 감정으로 결론 내린 적 있나요?</label>
      <label><input type="checkbox" id="q30" /> 리더/공동체 말에 상처받아 거리두기 한 적 있나요?</label>
      <!-- 종교 -->
      <label><input type="checkbox" id="q31" /> 신앙은 열심인데 마음은 메마른가요?</label>
      <label><input type="checkbox" id="q32" /> 예배/기도가 형식적으로만 느껴지나요?</label>
      <label><input type="checkbox" id="q33" /> 감정적 연결 없이 사역만 수행하나요?</label>
      <label><input type="checkbox" id="q34" /> 일정 지키는 데만 집중하나요?</label>
      <label><input type="checkbox" id="q35" /> 열심히 하는 자신에 안도감을 느끼나요?</label>
      <!-- 중독 -->
      <label><input type="checkbox" id="q36" /> 음란물/SNS/게임 등 멈추고 싶지만 못 멈추나요?</label>
      <label><input type="checkbox" id="q37" /> 감정적으로 힘들 때 자극에 도피한 적 있나요?</label>
      <label><input type="checkbox" id="q38" /> “이 정도는 괜찮겠지” 하며 행동 정당화한 적 있나요?</label>
      <label><input type="checkbox" id="q39" /> 같은 행동 반복하며 자존감이 무너진 적 있나요?</label>
      <label><input type="checkbox" id="q40" /> 외로울 때 중독된 습관에 위로 구한 적 있나요?</label>
    </div>
    <div class="section">
      <button type="button" onclick="showResult()">제출하고 결과 보기</button>
    </div>
  </div>

  <div id="result">
    <h2>📊 결과 요약</h2>
    <h3>1. 이번 주 감정 체크</h3>
    <p id="emotionResult"></p>
    <h3>2. 감정의 근원과 시선 방향</h3>
    <p id="originResult"></p>
    <h3>3. 반복된 생각/말/행동 정리</h3>
    <p id="thoughtsResult"></p>
    <h3>4. 개인의 반응</h3>
    <p>총 체크 수: <strong id="reactionTotal"></strong></p>
    <p>영적반응: <strong id="spiritualCount"></strong>, 육적반응: <strong id="physicalCount"></strong>, 혼적반응: <strong id="mixedCount"></strong></p>
    <h3>5. 영적 흐름 영향 순위</h3>
    <ol id="flowRanking"></ol>
    <div class="note">새로고침하면 다시 작성할 수 있습니다.</div>
  </div>

  <script>
    function showResult() {
      // 1. 이번 주 감정
      const emotions = [...document.querySelectorAll('#emotion input[type=checkbox]:checked')]
        .map(i => i.parentNode.textContent.trim());
      document.getElementById('emotionResult').innerText = emotions.length ? emotions.join(', ') : '없음';
      // 2. 감정의 근원
      const origins = [...document.querySelectorAll('#origin input[type=checkbox]:checked')]
        .map(i => i.parentNode.textContent.trim());
      document.getElementById('originResult').innerText = origins.length ? origins.join(', ') : '없음';
      // 3. 반복된 생각
      const thoughts = document.querySelector('#thoughts textarea').value.trim();
      document.getElementById('thoughtsResult').innerText = thoughts || '없음';
      // 4. 개인의 반응
      const inputs = [...document.querySelectorAll('#reaction input[type=checkbox]')];
      const total = inputs.filter(i=>i.checked).length;
      document.getElementById('reactionTotal').innerText = total;
      const spiritual = inputs.slice(0,3).filter(i=>i.checked).length;
      const physical = inputs.slice(3,6).filter(i=>i.checked).length;
      const mixed = inputs.slice(6,9).filter(i=>i.checked).length;
      document.getElementById('spiritualCount').innerText = spiritual;
      document.getElementById('physicalCount').innerText = physical;
      document.getElementById('mixedCount').innerText = mixed;
      // 5. 영적 흐름 순위
      const ranges = {
        '미혹':[1,5], '음란':[6,10], '가난':[11,15], '분열':[16,20],
        '분리(고립)':[21,25], '분리(왜곡)':[26,30], '종교':[31,35], '중독':[36,40]
      };
      const flowCounts = {};
      Object.entries(ranges).forEach(([k,[s,e]])=>{
        let cnt=0; for(let i=s;i<=e;i++){if(document.getElementById('q'+i).checked) cnt++;}
        flowCounts[k]=cnt;
      });
      const sorted = Object.entries(flowCounts).sort((a,b)=>b[1]-a[1]);
      const ol = document.getElementById('flowRanking'); ol.innerHTML='';
      sorted.forEach(([k,c])=>{ if(c>0){ const li=document.createElement('li'); li.innerText=`${k}: ${c}개`; ol.appendChild(li);} });
      if(!ol.children.length){ const li=document.createElement('li'); li.innerText='영향받은 흐름이 없습니다.'; ol.appendChild(li);}      
      document.getElementById('form').style.display='none';
      document.getElementById('result').style.display='block';
    }
  </script>
</body>
</html>
